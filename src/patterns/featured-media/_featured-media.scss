
/*********************************/
/* BEGIN Pattern: featured media */
/*********************************/

@mixin featured-media-overlay ($color-overlay, $color-cta, $color-cta-hover, $transparent-overlay: null){
   @if ($transparent-overlay) {
       &:after {
           background-color: rgba($color-overlay,0.75);
       }
        h3 {
            text-shadow: 2px 2px 9px rgba(68,68,68,0.7);
        }
    } @else {
        background-color: $color-overlay;
    }
   .btn, .btn-primary {
        background-color: $color-cta;
        border: 0;
        border-bottom: 5px solid $color-cta-hover;
   }

   .btn:hover, .btn:focus {
        background-color: $color-cta-hover;
        border: 0;
        border-bottom: 5px solid $color-cta-hover;
    }

}

.featured-media__wrapper {
    padding: calc(1.5vw + 1rem) 0 calc(1.5vw + 1rem - 1.5625rem) 0; // half gutter / half gutter - 25px in rem @ 16px
}

.featured-media {

    display: -ms-grid;
    display: grid;

    -ms-grid-columns: 0 auto 0;
    grid-template-columns: 0 auto 0;
    -ms-grid-rows: auto auto;
    grid-template-rows: auto auto; //2nd grid row for media
    
    @media (min-width: 992px) and (max-width:1199px){
        &--right {
            -ms-grid-columns: 15px minmax(20em,45%) 1fr 15px;
            -ms-grid-rows: auto;
            grid-template-columns: 15px minmax(20em,45%) 1fr 15px; 
            grid-template-rows: auto;
        }

        &--left {
            -ms-grid-columns: 15px 1fr minmax(20em,45%) 15px;
            -ms-grid-rows: auto;
            grid-template-columns: 15px 1fr minmax(20em,45%) 15px; 
            grid-template-rows: auto;
        }
    }
    
    @media (min-width: 1200px){
        &--right {
            -ms-grid-columns: 1fr 700px 440px 1fr;
            -ms-grid-rows: auto;
            grid-template-columns: 1fr 700px 440px 1fr;
            grid-template-rows: auto;
        }

        &--left {
            -ms-grid-columns: 1fr 440px 700px 1fr;
            -ms-grid-rows: auto;
            grid-template-columns: 1fr 440px 700px 1fr;
            grid-template-rows: auto;
        }
    }

}

.featured-media__text {
    -ms-grid-column:2;
    -ms-grid-row:1;

    grid-column-start: 2;
    grid-column-end: 3;
    grid-row-start: 1;
    grid-row-end: 2;


    @media (min-width: 992px) {
        .featured-media--left & {
            -ms-grid-column:3;
            -ms-grid-row:1;

            grid-column-start: 3;
            grid-column-end: 4;
            grid-row-start: 1;
            grid-row-end: 2;
        }
    }

    @media (max-width: 991px){
        max-width: 48em; // limit width of text to help readability
    }
}

.featured-media__media {
    -ms-grid-column:2;
    -ms-grid-row:2;

    grid-column-start: 2;
    grid-column-end: 3;
    grid-row-start: 2;
    grid-row-end: 3;

    @media (min-width: 992px) { //Move up alongside text when there is enough space
        .featured-media--right & {
            -ms-grid-column:3;
            -ms-grid-row:1;
            -ms-grid-column-span: 2;

            grid-column-start: 3;
            grid-column-end: 5;
            grid-row-start: 1;
            grid-row-end: 2;
        }

        .featured-media--left & {
            -ms-grid-column:1;
            -ms-grid-row:1;
            -ms-grid-column-span: 2;

            grid-column-start: 1;
            grid-column-end: 3;
            grid-row-start: 1;
            grid-row-end: 2;
        }
    }

    .featured-media__media-wrapper {
        .featured-media--right &,
        .featured-media--left & {
            max-width:600px; // No size restriction when centred media (aka big vid)
        }
        margin-bottom: 1.5625rem; // 25px @ 16

        @media (min-width: 992px) {
            .featured-media--right & {
                margin: 0 15px 1.5625rem 30px;
            }
            .featured-media--left & {
                margin: 0 30px 1.5625rem auto;
                padding-left: 15px;    
            }
        }

        figcaption {
            padding-bottom: 0;
        }
    }
}







.featured-media--background {

    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    color: white;
    position: relative;
    z-index: 0;

    &.featured-media--overlay {
        &:after {
            content: ' ';
            height: 100%;
            position: absolute;
            top: 0;
            width: 100%;
            z-index: -1;
        }        
    }

    &.featured-media--sta-blue {
        @include featured-media-overlay ($sta-blue, $sta-orange, $sta-orange-hover)
    }

    &.featured-media--sta-blue-light {
        @include featured-media-overlay ($sta-blue-light, $sta-orange, $sta-orange-hover)
    }

    &.featured-media--sta-green {
        @include featured-media-overlay ($sta-green, $sta-orange, $sta-orange-hover)
    }

    &.featured-media--sta-burgundy {
        @include featured-media-overlay ($sta-burgundy, $sta-blue, $sta-blue-hover)
    }

    &.featured-media--sta-purple {
        @include featured-media-overlay ($sta-purple, $sta-green, $sta-green-hover)
    }

    &.featured-media--sta-orange {
        @include featured-media-overlay ($sta-orange, $sta-green, $sta-green-hover)
    }

    &.featured-media--blue-transparent-overlay {
        @include featured-media-overlay ($sta-blue, $sta-orange, $sta-orange-hover, true)
    }

    &.featured-media--orange-transparent-overlay {
        @include featured-media-overlay ($sta-orange, $sta-green, $sta-green-hover, true)
    }

    &.featured-media--burgundy-transparent-overlay {
        @include featured-media-overlay ($sta-burgundy, $sta-blue, $sta-blue-hover, true)
    }

    &.featured-media--purple-transparent-overlay {
        @include featured-media-overlay ($sta-purple, $sta-green, $sta-green-hover, true)
    }

    &.featured-media--featured-image{
        background-image: url(../images/secondary-call/9.jpg); background-size: cover;
    }

    a:not(.btn) {
        color: white;
        font-weight: bold;
        text-decoration: underline;
    }

}
/*********************************/
/* END Pattern: featured media   */
/*********************************/